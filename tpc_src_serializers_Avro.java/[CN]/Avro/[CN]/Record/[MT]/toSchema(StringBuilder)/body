{
  b.append("{\"type\": \"record\", \"name\": \"").append(name).append("\"");
  if (namespace != null) {
    b.append(", \"namespace\": \"").append(namespace).append("\"");
  }
  b.append(", \"fields\": [");
  String sep="";
  for (  Field f : fields) {
    b.append(sep);
    sep=", ";
    b.append("{\"name\": \"" + f.name + "\", \"type\": ");
    f.type.toSchema(b);
    b.append("}");
  }
  b.append("]}");
}
