{
  if (buffer == null) {
    int size=serializedSizeUnframed();
    buffer=output.getNextBuffer(size);
    org.apache.activemq.protobuf.CodedOutputStream original=null;
    if (buffer == null) {
      buffer=new org.apache.activemq.util.buffer.Buffer(new byte[size]);
      original=output;
      output=new org.apache.activemq.protobuf.CodedOutputStream(buffer);
    }
    output.writeString(1,bean.getUri());
    if (bean.hasTitle()) {
      output.writeString(2,bean.getTitle());
    }
    if (bean.hasWidth()) {
      output.writeInt32(3,bean.getWidth());
    }
    if (bean.hasHeight()) {
      output.writeInt32(4,bean.getHeight());
    }
    if (bean.hasSize()) {
      output.writeEnum(5,bean.getSize().getNumber());
    }
    if (original != null) {
      output.checkNoSpaceLeft();
      output=original;
      output.writeRawBytes(buffer);
    }
  }
 else {
    output.writeRawBytes(buffer);
  }
}
