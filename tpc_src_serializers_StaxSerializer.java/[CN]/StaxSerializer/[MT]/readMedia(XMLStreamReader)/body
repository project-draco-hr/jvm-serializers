{
  Media media=new Media();
  media.setPlayer(Player.valueOf(readElement(parser,"pl")));
  media.setUri(readElement(parser,"ul"));
  media.setTitle(readElement(parser,"tl"));
  media.setWidth(Integer.parseInt(readElement(parser,"wd")));
  media.setHeight(Integer.parseInt(readElement(parser,"hg")));
  media.setFormat(readElement(parser,"fr"));
  media.setDuration(Long.parseLong(readElement(parser,"dr")));
  media.setSize(Long.parseLong(readElement(parser,"sz")));
  media.setBitrate(Integer.parseInt(readElement(parser,"br")));
  searchTag(parser,"pr");
  do {
    media.addToPerson(parser.getElementText());
  }
 while (parser.nextTag() == XMLStreamConstants.START_ELEMENT && "pr".equals(parser.getLocalName()));
  if (!"md".equals(parser.getLocalName())) {
    throw new IllegalStateException("Expected closing </md>, got </" + parser.getLocalName() + ">");
  }
  return media;
}
